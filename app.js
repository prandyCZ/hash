const express = require('express');const crypto = require('crypto');const config = require('./src/config/config');const dao = require("./src/dao/file-dao");const app = express();const port = config.port;app.post(    "/uploadFile",    (req, res) => {      handleUploadFile(req, res);    });app.listen(port);function handleUploadFile(req, res) {  let fileSize = 0;  let sha1;  let requestHasData = false;  const hash = crypto.createHash('sha1');  req.on('data', (chunk) => {    requestHasData = true;    fileSize += chunk.length;    hash.update(chunk);  });  req.on('end', async () => {    //check if request had any data    if (!requestHasData) {      res.statusCode = 400;      res.json({ error: "No data to hash" });      return;    }    sha1 = hash.digest('hex');    try {      // TODO return id? was not in the task specification      await dao.saveFileInfo({ hash: sha1, fileSize })    } catch (e) {      res.statusCode = 500      res.json({        error: "Database Error",        cause: JSON.stringify(e),      })      return;    }    // write results into response    res.json({sha1, fileSize});  });}